<!DOCTYPE html>
<html lang="en">

<head>

    

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.min.js"></script>
    <script>
        $(function () {
            $("#header").load("header.html");
            $("#footer").load("footer.html");
        });

    </script>

    <title>Document</title>
</head>

<body>
    <div id="header"></div>
    <br>
    <div id="body-content">
        <!--min egen body content starter her-->

        <form style="font-weight: bold; margin: auto; width: 50%" id="booking-information-form">
            <div class="mb-3"> Property Id: 10211</div>
            <div class="mb-3"> Date: 10-10-2022</div>
            <div class="mb-3"> Time: 10.01-10-15</div>
            <input type="hidden" class="form-control" id="date" name="date" value="10-10-2022">

            <div class="mb-3">
                <label for="name" class="form-label font-weight-bold">Fulld Navn:</label>
                <input required type="text" class="form-control" id="name" name="name">
            </div>
            <div class="mb-3">
                <label for="phone" class="form-label font-weight-bold">Mobil:</label>
                <input required type="number" class="form-control" id="phone" name="phone">
            </div>
            <div class="mb-3">
                <label for="email" class="form-label font-weight-bold">Email:</label>
                <input required type="email" class="form-control" id="email" name="email">
            </div>
            <div class="text-center d-grid gap-2 col-3 mx-auto">
                <button type="submit" id="submit-booking" class="btn btn-primary">Book</button>
            </div>
            <!-- <div class="text-center d-grid gap-1 col-3 mx-auto">
                <button onclick="window.location.href='/booking.html?propertyId='" class="btn">Annuller</button>
            </div>  -->
        </form>
        
        <!--min egen body content slutter her-->
    </div>
    <div id="footer"></div>

    <script>

        const thisForm = document.getElementById('booking-information-form');
        thisForm.addEventListener('submit', async function (e) {
            e.preventDefault();
            const formData = new FormData(thisForm).entries()
            const response = await fetch('http://localhost:8080/api/v1/activity', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(Object.fromEntries(formData))
            });
            const result = await response.json();
            // here we can check the result and based on result we can redirect to new page or show error message
            window.location.href = "/booking-success.html"; // this will redirect to the new page
        });
    
    
      </script>  

</body>

</html>
